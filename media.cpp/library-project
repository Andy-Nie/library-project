// Member_functions definitions for class Media "implementation"
#include <iostream>
#include <string>
#include "Media.h"  // // include definition of class Media
#include "student.h"  // include definition of class Student
#include "Date.h"   // include definition of class Date
using namespace std;

Media::Media( )
	: name(" "),
	ISBN(" "),
	NoOfCopies(2),
	CopiesAvailable(2)
{
                       }

//######################################//
Media::Media(string n ,string c){/////////////////////////////////// better than * 
	name=n;
	ISBN=c;
}

Media::Media(string n ,string c ,int a ,Student[],Date[]) ////////////// *this
	: name( n ),
	ISBN( c ),
	CopiesAvailable( a )
{
                        }

void Media::Borrow(Student &s, Date &d){
	s.Increment();
	CopiesAvailable--;
	Borrower[1-CopiesAvailable]=s;
	BorrowDate[1-CopiesAvailable]=d;
}// end function Borrow

void Media::Return(Student &s ){
	int r = 2; // number of rows in the array
	int rm1=r-1;//new varible to stop the loop befor the last entry in the array

for (int i=0; i<r; i++){
		if ( Borrower[i] == s ){
			
			for ( int k=i; k<rm1; k++ ){// shifting loop
				Borrower[k]=Borrower[k+1];
				BorrowDate[k]=BorrowDate[k+1];
			}// end shifting loop
			// set the value of the last entries of all the arrays = null
			Borrower[rm1]='\0';
			BorrowDate[rm1]='\0';

			CopiesAvailable++;
			s.Decrement();
		}
	}
	return; // if there is no name matches the search key
}// end function Return

void Media::PrintInfo( ){
	cout<<"Student borrowers \t Date \n";
	for( int j=0; j<2; j++)
		cout<<Borrower[j]<<"\t"<<BorrowDate[j]<<endl;
}// end function PrintInfo












